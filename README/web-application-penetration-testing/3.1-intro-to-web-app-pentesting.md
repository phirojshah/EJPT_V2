# 3.1 Intro to Web App Pentesting

> **‚ö° Prerequisites**
>
> * Basic Network and Cybersecurity Concepts
>
> **üìï Learning Objectives**
>
> * Understand **Web protocols**
> * Perform **webapps enumeration**
> * Perform **SQL injection**, **XSS** and **brute-force** attacks
>
> **üî¨ Training list - PentesterAcademy/INE Labs**`subscription required`
>
> * ‚Äã[Web Application Basics](https://attackdefense.com/listing?labtype=webapp-web-app-basics\&subtype=webapp-web-app-basics-getting-started)‚Äã
> * ‚Äã[Web Apps Tools of Trade](https://attackdefense.com/listing?labtype=webapp-tools-of-trade\&subtype=webapp-tools-of-trade-getting-started)‚Äã

## ‚Äã

**Web App Pentesting** is a method of evaluating the security of a web application by simulating a cyberattack. The goal of such testing is to identify vulnerabilities and weaknesses within the application that malicious hackers could exploit. By conducting these tests, organizations can proactively strengthen their web applications' security and protect sensitive data.

Key aspects of web application penetration testing include:

1. **Identifying Vulnerabilities:** Penetration testers aim to discover security vulnerabilities, such as code flaws, misconfigurations, and design weaknesses that could be exploited by attackers. Common vulnerabilities include SQL injection, cross-site scripting (XSS), cross-site request forgery (CSRF), and insecure authentication methods.
2. **Mimicking Real Attacks:** Testers simulate real-world attack scenarios to determine how an attacker might compromise the application. This might involve attempting to gain unauthorized access, execute code, or extract sensitive data from the application.
3. **Manual and Automated Testing:** A combination of manual testing by skilled security professionals and automated tools is typically used. Manual testing allows for more comprehensive exploration, while automated tools can efficiently scan for common vulnerabilities.
4. **Exploitation and Verification:** If a vulnerability is identified, the tester may attempt to exploit it to demonstrate its real-world impact. This often involves attempting to escalate privileges or access sensitive data. The success of the exploitation helps confirm the vulnerability's severity.
5. **Reporting:** The results of the penetration test are documented in a comprehensive report, including the identified vulnerabilities, their severity, and recommendations for remediation. This report serves as a roadmap for addressing security issues.
6. **Remediation:** After vulnerabilities are identified, the development and security teams work together to address and fix the issues. This may involve patching code, changing configurations, or implementing new security measures.
7. **Ongoing Testing:** Web application penetration testing is not a one-time effort. Regular testing, especially after significant changes to the application, is crucial to maintaining a strong security posture.

The objectives of web application penetration testing are to:

* Uncover and fix security vulnerabilities before malicious attackers can exploit them.
* Ensure compliance with industry standards and regulations.
* Increase the overall security and trustworthiness of the web application.
* Safeguard sensitive data, user accounts, and user privacy.
* Minimize the risk of security breaches and data leaks.

### Web and [HTTP Protocol](https://developer.mozilla.org/en-US/docs/Web/HTTP)‚Äã <a href="#web-and-http-protocol" id="web-and-http-protocol"></a>

> üîóüìù Some **Web Applications Basics** notes are already covered [here](https://blog.syselement.com/ine/courses/ejpt/penetration-testing-prerequisites/web-applications) (from the PTSv1 Course)

üóíÔ∏è **`HTTP`** (**H**yper**T**ext **T**ransfer **P**rotocol) is a protocol used for communication between web servers and clients, such as web browsers. **`HTTP`** key features are:

* Client-Server Architecture
* Stateless Protocol
* Request Methods
* Status Codes (`200`,`404`,`500`, etc)
* ‚Äã[Headers](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers) (additional information about the request/response)
* Cookies (store info on the client-side)
* Encryption (`HTTPS`)

> üìå [RFC 9110 - HTTP Semantics](https://httpwg.org/specs/rfc9110.html)‚Äã

#### ‚Äã[Request Methods](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)‚Äã <a href="#request-methods" id="request-methods"></a>

_HTTP defines a set of **request methods** to indicate the desired action to be performed for a given resource._ Commonly used HTTP requests are:`GET` - retrieve data from the server`HEAD` - retrieve metadata about a resource from the server`POST` - submit data to the server`PUT` - update an existing resource on the server`DELETE` - delete a specified resource`CONNECT` - establish a tunnel to the server identified by the target resource`OPTIONS` - describe the communication options for a resource`TRACE` - perform a message loop-back test along the path to the resource`PATCH` - apply partial modifications to a resource

#### ‚Äã[Response Status Codes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)‚Äã <a href="#response-status-codes" id="response-status-codes"></a>

_HTTP **response status codes** indicate whether a specific `HTTP` request has been successfully completed._ They are grouped in five classes:

* `100-199` - Informational responses
* `200-299` - Successful responses
* `300-399` - Redirection messages
* `400-499` - Client error responses
* `500-599` - Server error responses

#### ‚Äã[Cookies](https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies)‚Äã <a href="#cookies" id="cookies"></a>

_An HTTP **cookie** is a small piece of data that a server sends to a user's web browser. The web browser may store the cookie and send it back to the same server with later requests._ Cookies are mainly used for these purposes:

* Session management
* Personalization
* Tracking

#### ‚Äã[HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS)‚Äã <a href="#https" id="https"></a>

üóíÔ∏è **`HTTPS`** (HTTP Secure) is the encrypted version of `HTTP` that uses a combination of Transport Layer Security (**`TLS`**) or Secure Sockets Layer (**`SSL`**) protocol and HTTP protocol to provide secure communication.When a client connects to an HTTPS-enabled website, the server sends its `SSL`/`TLS` **certificate** to the client. The client verifies the certificate to ensure that it is issued by a **trusted certificate authority** and that it is valid. If the certificate is valid, the client and the server establish a secure connection using a unique **session key**.

> üî¨ There are many vulnerable testing web apps like:
>
> * ‚Äã[Juice Shop - Kali Install](https://www.kali.org/tools/juice-shop/)‚Äã
> * ‚Äã[DVWA - Kali Install](https://www.kali.org/tools/dvwa/)‚Äã
> * ‚Äã[bWAPP](http://www.itsecgames.com/)‚Äã
> * ‚Äã[Mutillidae II](https://github.com/webpwnized/mutillidae)‚Äã
>
> üìù Check the HackerSploit's [Web App Penetration Testing Tutorials](https://www.youtube.com/playlist?list=PLBf0hzazHTGO3EpGAs718LvLsiMIv9dSC)‚Äã# bWAPP with Docker - by HackerSploitsudo docker pull hackersploit/bwapp-docker‚Äãsudo docker run -d -p 80:80 hackersploit/bwapp-docker# Open http://127.0.0.1/install.php‚Äãsudo docker container lssudo docker container stop \<CONTAINER\_NAME>sudo docker container start \<CONTAINER\_NAME>

nmap -sV -p 80,443,3306 demossl.ine.local

### Scanning & Enumeration <a href="#scanning-and-enumeration" id="scanning-and-enumeration"></a>

#### Directory Enumeration - [Gobuster](https://github.com/OJ/gobuster)‚Äã <a href="#directory-enumeration-gobuster" id="directory-enumeration-gobuster"></a>

‚Äã[**`Gobuster`**](https://www.kali.org/tools/gobuster/) - _a tool used to brute-force URIs including directories and files as well as DNS subdomains._# Kali Linux Installsudo apt update && sudo apt install -y gobuster‚Äã# Go Installgo install github.com/OJ/gobuster/v3@latest

#### Directory Enumeration - [BurpSuite](https://portswigger.net/burp/documentation/desktop)‚Äã <a href="#directory-enumeration-burpsuite" id="directory-enumeration-burpsuite"></a>

‚Äã[**`BurpSuite`**](https://www.kali.org/tools/burpsuite/) - _an integrated platform for performing security testing of web applications._# Kali Linux Installsudo apt update && sudo apt install -y burpsuite

> üî¨ Check [HTTP Web App Enumeration lab](https://blog.syselement.com/ine/courses/ejpt/webapp-penetration-testing/1-webapp-http/http-enum) covering HTTP Method and Directory Enumeration Techniques

#### Scanning WebApp - [ZAProxy](https://www.zaproxy.org/)‚Äã <a href="#scanning-webapp-zaproxy" id="scanning-webapp-zaproxy"></a>

‚Äã[**`Zaproxy`**](https://www.kali.org/tools/zaproxy/) - _OWASP Zed Attack Proxy (**ZAP**) is an easy to use integrated penetration testing tool for finding vulnerabilities in web applications._# Kali Linux Installsudo apt update && sudo apt install -y zaproxy

#### Scanning WebApp - [Nikto](https://github.com/sullo/nikto)‚Äã <a href="#scanning-webapp-nikto" id="scanning-webapp-nikto"></a>

‚Äã[**`Nikto`**](https://www.kali.org/tools/nikto/) - _a pluggable web server and CGI scanner written in Perl, using rfp‚Äôs LibWhisker to perform fast security or informational checks._# Kali Linux Installsudo apt update && sudo apt install -y nikto

> üî¨ Check [HTTP Web App Scanning lab](https://blog.syselement.com/ine/courses/ejpt/webapp-penetration-testing/1-webapp-http/webapp-scan) covering Web Apps scanning techniques

### Attacks <a href="#attacks" id="attacks"></a>

‚Äã[**`SQLMap`**](https://www.kali.org/tools/sqlmap/) - _an open source penetration testing tool that automates the process of detecting and exploiting SQL injection flaws and taking over of database servers._# Kali Linux Installsudo apt update && sudo apt install -y sqlmap‚Äã[**`XSSer`**](https://www.kali.org/tools/xsser/) (Cross-Site Scripter) - _an automatic framework to detect, exploit and report XSS vulnerabilities in web-based applications._# Kali Linux Installsudo apt update && sudo apt install -y xsser

#### SQLi <a href="#sqli" id="sqli"></a>

üóíÔ∏è [**SQL Injection**](https://owasp.org/www-community/attacks/SQL\_Injection) _attacks consist of insertion or ‚Äú**injection**‚Äù of a `SQL` query via the input data from the client to the application, allowing an attacker to interfere with the database queries of the vulnerable web application._

* ‚Äã[What is a SQLi? - PortSwigger](https://portswigger.net/web-security/sql-injection)‚Äã

#### XSS <a href="#xss" id="xss"></a>

üóíÔ∏è **Cross-Site Scripting** ([**XSS**](https://owasp.org/www-community/attacks/xss/)) _attacks are a type of injection, in which malicious scripts are injected into otherwise benign and trusted websites, allowing an attacker to compromise the interactions that users have with a vulnerable application._

* ‚Äã[How does XSS Work? - PortSwigger](https://portswigger.net/web-security/cross-site-scripting)‚Äã

> üî¨ Check [Web App Attacks lab](https://blog.syselement.com/ine/courses/ejpt/webapp-penetration-testing/1-webapp-http/webapp-attacks) covering Web Apps Attacking techniques
